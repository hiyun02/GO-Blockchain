<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Block Detail</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        pre { background:#f6f6f6; padding:10px;}
    </style>
</head>
<body>

<h1>블록 상세보기</h1>

<div id="meta"></div>

<h2>Entries</h2>
<div id="entries"></div>

<script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    fetch(`/block/index?id=${id}`)
        .then(res => res.json())
        .then(b => {
            // 메타데이터
            document.getElementById('meta').innerHTML = `
      <p><b>Index:</b> ${b.index}</p>
      <p><b>Timestamp:</b> ${b.timestamp}</p>
      <p><b>PrevHash:</b> ${b.prev_hash}</p>
      <p><b>Hash:</b> ${b.block_hash}</p>
      <p><b>MerkleRoot:</b> ${b.merkle_root}</p>
      <p><b>Nonce:</b> ${b.nonce}</p>
      <p><b>Difficulty:</b> ${b.difficulty}</p>
    `;

            // 엔트리 출력
            let entries = "";
            b.Entries.forEach((e,i)=>{
                entries += `
        <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
          <p><b>${i+1}. ${e.content_id}</b></p>
          <pre>${JSON.stringify(e,null,2)}</pre>
        </div>
      `;
            });
            document.getElementById('entries').innerHTML = entries;
        });
</script>

</body>
</html>
